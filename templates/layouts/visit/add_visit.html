<ion-view title="Create Visit">
   
<ion-content>
<form class="form-horizontal">
	<div class="form-container fw">
        <div class="visitor3-page fw">
            <div class="white_box fw">
               <span><i class="ion-location"></i>Visit Form</span>
            </div>
        </div>
		<div class="container">
				<div class="row">
					<div class="col">
						
							<div class="form-group">
								<label class="control-label col-xs-5">Doc Series</label>
								<div class="col-xs-7"><input type="text" ng-readonly="true" ng-model="visitModel.DOC_SERIES" class="form-control" ></div>
							</div>
							<div class="form-group">
								<label class="control-label col-xs-5">Visit ID</label>
								<div class="col-xs-7"><input type="text" ng-readonly="true" ng-model="visitModel.VISIT_ID" class="form-control"></div>
							</div>
							<div class="form-group">
								<label class="control-label col-xs-5">Visit Time From {{visitModel.VISIT_TIME_FROM }}</label>
								<div class="col-xs-7">
                                    <input type="time"   pattern="HH:mm" class="form-control"></div>

							</div>
							<div class="form-group">
								<label class="control-label col-xs-5">Visit Time To</label>
								<div class="col-xs-7"><input type="time" ng-model="visitModel.VISIT_TIME_TO" pattern="HH:mm:ss" class="form-control"></div>
							</div>
							<div class="form-group">
								<label class="control-label col-xs-5">Visit Date</label>
								<div class="col-xs-7"><input type="date" ng-model="visitModel.VISIT_DATE"  pattern="MM/dd/YYYY" class="form-control"></div>
							</div>
							<div class="form-group">
								<label class="control-label col-xs-5">Customer Id</label>
								<div class="col-xs-7"><input type="text" ng-model="visitModel.CUSTOMER_NO" class="form-control"></div>
							</div>
							<div class="form-group">
								<label class="control-label col-xs-5 no-pad-right">Customer Name</label>
								<div class="col-xs-7"><input type="text" ng-model="visitModel.CUSTOMER_NAME" class="form-control"></div>
							</div>
							<div class="form-group">
								<label class="control-label col-xs-5">Area Name</label>
								<div class="col-xs-7"><input type="text" ng-model="visitModel.AREA_NAME" class="form-control"></div>
							</div>
							<div class="form-group">
								<label class="control-label col-xs-5">Address</label>
								<div class="col-xs-7"><input type="text" ng-readonly="true" ng-model="visitModel.ADDRESS" class="form-control">
                                <p class="ion-android-locate" ng-click="getGeoLocation()" style="cursor:pointer" ></p>
                                </div>
							</div>
							<div class="form-group">
								<label class="control-label col-xs-5">Remark</label>
								<div class="col-xs-7"><input type="text" ng-model="visitModel.REMARK" class="form-control"></div>
							</div>
							
							
						
					</div>
				</div>
			</div>
		</div>
	</div>
    
	<div class="form-container fw">
        <div class="visitor3-page fw">
            <div class="white_box fw">
               <span><i class="ion-person"></i> Customer / Contact Form</span>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col">
                  
                  <div class="contact-repeater" ng-repeat="list in visitModel.Contact">
                    <div ng-show="($index > 0)">
                       <hr>
                       <div class="form-group">
                            <div class="text-right">
                                <div class="padding plus-minus-btn" ng-click="visitModel.Contact.splice($index, 1)">
                                    <i class="ion-minus-circled"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                        <div class="form-group">
                            <label class="control-label col-xs-5">Person</label>
                            <div class="col-xs-7"><input type="text" class="form-control" ng-model="visitModel.Contact[$index]['CUSTOMER_NAME']" ></div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-5">Position</label>
                            <div class="col-xs-7"><input type="text" class="form-control" ng-model="visitModel.Contact[$index]['DESIGNATION']"></div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-5">Mobile No.</label>
                            <div class="col-xs-7"><input type="text" class="form-control" ng-model="visitModel.Contact[$index]['MOBILE']"></div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-5">Email</label>
                            <div class="col-xs-7"><input type="text" class="form-control" ng-model="visitModel.Contact[$index]['EMAIL']"></div>
                        </div>
                    </div>

                     <div class="form-group">
                        <div class="text-right">
                            <div class="padding plus-minus-btn" ng-click="visitModel.Contact.push({
                                'CUSTOMER_NAME':null,
                                'DESIGNATION':null,
                                'MOBILE':null,
                                'EMAIL':null,
                               })">
                                <i class="ion-plus-circled"></i>
                            </div>
                        </div>
                    </div>

                    
                </div>
            </div>
        </div>
    </div>
    <div class="form-container fw">
        <div class="visitor3-page fw">
            <div class="white_box fw">
               <span><i class="ion-pricetags"></i> Sales Person Form</span>
               
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col">
                  
                <div class="sales-repeater" ng-repeat="list in visitModel.Sales">
                    <div ng-show="($index > 0)">
                       <hr>
                       <div class="form-group">
                            <div class="text-right">
                                <div class="padding plus-minus-btn" ng-click="visitModel.Sales.splice($index, 1)">
                                    <i class="ion-minus-circled"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                            <label class="control-label col-xs-5 no-pad-right">Sales Person No </label>
                            <div class="col-xs-7"><input type="text" class="form-control" ng-model="visitModel.Sales[$index]['SALES_PERSON_NO']" ></div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-5">Name</label>
                            <div class="col-xs-7"><input type="text" class="form-control" ng-model="visitModel.Sales[$index]['SALES_PERSON_NAME']"></div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-5">Next Action</label>
                            <div class="col-xs-7"><input type="text" class="form-control" ng-model="visitModel.Sales[$index]['NEXT_ACTION']"></div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-5 no-pad-right">Next Action Date</label>
                            <div class="col-xs-7"><input type="text" class="form-control" ng-model="visitModel.Sales[$index]['NEXT_ACTION_DATE']"></div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-5 no-pad-right">Next Action Time</label>
                            <div class="col-xs-7"><input type="text" class="form-control" ng-model="visitModel.Sales[$index]['NEXT_ACTION_TIME']"></div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-5">Alert Required</label>
                            <div class="col-xs-7">
                                <select class="form-control" ng-init="visitModel.Sales[$index]['ALERT_REQ']='yes'" ng-model="visitModel.Sales[$index]['ALERT_REQ']">
                                    <option value="yes">Yes</option>
                                    <option value="no">No</option>
                                </select>
                            </div>
                        </div>
                        <div ng-show="(visitModel.Sales[$index]['ALERT_REQ']=='yes')">
                        <div class="form-group"  >
                            <label class="control-label col-xs-5">Alert Date</label>
                            <div class="col-xs-7"><input type="date" placeholder="yyyy-MM-dd" class="form-control" ng-model="visitModel.Sales[0]['ALERT_DATE']"></div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-5">Alert Time</label>
                            <div class="col-xs-7"><input type="time" placeholder="HH:mm" class="form-control" ng-model="visitModel.Sales[0]['ALERT_TIME']"></div>
                        </div>
                        </div>

                    </div>

                        <div class="form-group">
                            <div class="text-right">
                                <div class="padding plus-minus-btn" ng-click="visitModel.Sales.push({
                                'SALES_PERSON_NO':null,
                                'SALES_PERSON_NAME':null,
                                'NEXT_ACTION':null,
                                'NEXT_ACTION_DATE':null,
                                'NEXT_ACTION_TIME':1,
                                'ALERT_REQ':'yes',
                                'ALERT_DATE':null,
                                'ALERT_TIME':null,
                               })">
                                    <i class="ion-plus-circled"></i>
                                </div>
                            </div>
                        </div>
               
             </div>
         </div>
    
</div>
</form>
 <div class="row" style="display:flex;">
    <div class="col-50 col"><a ng-click="initVisitModel()"  class="button button-small button-assertive button-block search">Clear All</a></div>
     <div class="col-50 col"><a ng-click="SaveVisit()" class="button button-small button-assertive button-block search">Save</a></div>
</div>






</ion-content>
</ion-view>
